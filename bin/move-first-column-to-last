#!/usr/bin/env bash

FILE_PATH=$1
SEPARATOR=$2

if [[ -z $2 ]];then SEPARATOR=','; fi

RESULT=''

while IFS="$SEPARATOR" read -r FIRST REST; do
  LINE="$(echo $REST | tr -d '\r')$SEPARATOR$FIRST\n"
  RESULT="$RESULT$LINE"
done < <(cat $FILE_PATH)

echo -e $RESULT > $FILE_PATH
